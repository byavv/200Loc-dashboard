<div class="l-driver">
    <section class="l-driver__list">
<loader [active]='loading'></loader>
<div class="l-api__list-header">
    <span class="title">Configurations for {{ driverName }}</span>
    <div class="float-sm-right" style="position: relative;">
<a href='' (click)="showModal()" class="nav-link" role="button" aria-expanded="false">
    <i class="fa fa-plus" aria-hidden="true"></i>
</a>
</div>
</div>
<div class="l-api__list-body">
    <!--<table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor='let config of driverConfigs'>
                <td><span>{{ config.name }}</span></td>
                <td class="width-150" style="position: relative;">
<div class="table-controls">
    <button type="button" class="btn btn-success btn-sm" (click)="showModal(config.id)">
                                    <i class="fa fa-pencil-square-o"></i>
                                </button>
    <button type="button" class="btn btn-danger btn-sm" (click)="deleteConfig(config.id)">
                                    <i class="fa fa-times"></i>
                                </button>
</div>
</td>
</tr>
</tbody>
</table>-->
    <div class="l-driver__table">
        <div class='m__table-row m__table-row--header'>
            <div class="m__table-cell">
                Name
            </div>
            <div class="m__table-cell">

            </div>
        </div>
        <div *ngFor='let config of driverConfigs' class='m__table-row'>
            <div class="m__table-cell">
                <span class='l-driver__description'>{{ config.name }}</span>
            </div>
            <div class="m__table-cell">
                <div class="l-driver__table--actions">
                    <button [popover]="actionsPopover" class="l-api__table--actions-item"><i class="icon-android-more-vertical"></i></button>
                    <popover-content #actionsPopover placement="auto bottom" [floating]='true' [shiftLeft]='-15' size='md' [closeOnClickOutside]="true">
                        <div class="l-api__menu">
                            <button class="l-api__menu-item" (click)="showModal(config.id)">
                                        <span class="icon-edit"></span>
                                        <span>Edit entry</span>
                                    </button>
                            <button class="l-api__menu-item" (click)="deleteConfig(config.id)">
                                   <span class="icon-ios-trash"></span>Remove entry</button>
                        </div>
                    </popover-content>
                </div>
            </div>
        </div>
    </div>
</div>
</section>


<template #driverModalContent let-c="close" let-d="dismiss">
    <button type="button" class="close" (click)="c()" aria-label="Close">
           <span aria-hidden="true">&times;</span>
    </button>
    <h4 class="modal-title">Configure</h4>
    <form #configForm="ngForm">
        <div class="form-group">
            <label for='configName'>Name</label>
            <input id='configName' type="text" class='form-control' name="name" #name='ngModel' [(ngModel)]='currentDriver.name' required/>
            <show-error *ngIf='!name.valid' [control]="name" [options]="{'required': 'Name is required'}">
            </show-error>
        </div>
        <div class="form-group">
            <label for='description'>Description</label>
            <input id='description' type="text" class='form-control' name="description" #description='ngModel' [(ngModel)]='currentDriver.description'
                required/>
            <show-error *ngIf='!description.valid' [control]="description" [options]="{'required': 'Description is required'}">
            </show-error>
        </div>
    </form>
    <!--<dynamic-form [fields]="driverTemplate?.settings" #optionsForm='dynForm' [(ngModel)]='currentSettings' (changed)='applyValidation()'>
        </dynamic-form>
                <div>
                    <button type="button" [disabled]='!configForm.valid || !optionsForm.valid' class="btn btn-large btn-block btn-default" (click)="addOrUpdate(); modal.hide()">Add</button>
      </div>-->

</template>


<template ngbModalContainer></template>
</div>